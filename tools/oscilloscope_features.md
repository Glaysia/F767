# Web Oscilloscope Feature Checklist

이 문서는 `tools/ethscope` Web UI가 구현해야 할 최소 오실로스코프 기능을 요약한다. 모바일·데스크탑 브라우저 어디서든 사용할 수 있는 “프론트 패널”을 목표로 하며, 하드웨어 트리거/스케일링 컨셉을 그대로 웹 상호작용으로 재현해야 한다.

## 1. 시간축(Timebase)
- **배율 스텝:** 1 µs/div, 2 µs/div, 5 µs/div, …, 500 ms/div까지 1-2-5 시퀀스 제공.
- **가변 버퍼:** 선택한 time/div에 맞춰 WebSocket에서 필요한 샘플 수만 다운샘플링해 표시.
- **스크롤/줌:** 마우스 휠 또는 터치 핀치로 파형 확대/축소, 드래그로 버퍼를 좌우 이동.
- **실시간 모드:** 최신 샘플에 자동으로 스냅(“RUN”) vs. 정지 후 수동 탐색(“STOP”).

## 2. 전압축(Vertical Scale)
- **채널별 mV/div:** 50 mV/div부터 5 V/div까지 1-2-5 스텝; 8비트 ADC에 맞춰 디지털 분해능 표시.
- **오프셋 조정:** 기준선(0 V)을 화면 중앙 외 위치로 이동할 수 있도록 offset 슬라이더.
- **유닛 표시:** 좌측 y축에 grid와 숫자 라벨을 붙여 현재 전압 눈금을 즉시 인지.

## 3. 트리거(Trigger)
- **모드:** Auto / Normal / Single.
- **소스:** 채널 선택(C1, C2), 향후 외부 트리거 확장 고려.
- **슬로프:** Rising / Falling.
- **레벨:** UI 노브/슬라이더로 전압 레벨 지정, 화면에 트리거 라인 표시.
- **홀드오프:** 고진폭 노이즈 걷어내기 위한 0–100 µs 범위 설정.

## 4. 계측/유틸리티
- **커서:** 두 개의 수평/수직 커서를 배치해 Δt, ΔV 자동 계산.
- **측정치:** RMS, Vpp, 평균, 주파수 등의 자동 측정 메뉴.
- **채널 관리:** on/off 토글, 색상/레이블(예: CH1=cyan, CH2=amber).
- **Persistence:** “infinite persistence” 토글로 파형을 누적 표시.
- **스크린 캡처:** 현재 뷰를 PNG/SVG로 저장할 수 있는 버튼.

## 5. 성능/네트워킹 고려
- **프레임 레이트 제한:** `-ui-fps` 플래그와 연동, UI에서 동적으로 30/60 Hz 선택.
- **버퍼 인디케이터:** 수신 중단/패킷 드롭 발생 시 헤더(`flags`)를 아이콘으로 표시.
- **모바일 최적화:** 터치 제스처 우선, 최소 360 px 폭에서도 제어 패널 접근 가능.

## 6. 백엔드 연동 요구사항
- WebSocket 메시지에 `time_div`, `volt_div`, `trigger_state` 등의 메타데이터를 포함.
- 서버 측 ring buffer에서 downsampling/decimation 지원(예: 2^n decimator)으로 timebase 변경 시 CPU 부하 최소화.
- 트리거 연산을 Go 백엔드에서 수행해 안정적인 파형 정렬을 보장.

이 목록은 MVP 기준이며, 향후 파형 저장/재생, FFT 모드, math 채널, 프로토콜 디코더 등도 고려할 수 있다.
